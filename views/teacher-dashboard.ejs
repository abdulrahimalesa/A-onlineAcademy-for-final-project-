

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <title>Kredi Turbo</title>
	<link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" type="text/css" href="/css/courses_styles.css">
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
    <link rel="shortcut icon" href="/images/online-academy2.png" type="image/x-icon">
</head>
<body>
<style>
    .course-item {
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 15px;
    background-color: #f9f9f9;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;
}

.course-item:hover {
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
}

.course-title a {
    color: #333;
    text-decoration: none;
}

.course-title a:hover {
    color: #ff6347;
}
.course-meta-bot ul {
    list-style: none;
    margin: 0;
    padding: 0;
    overflow: hidden; /* Clear float */
}

.left-li {
    float: left;
    
}

.right-li {
    float: right;
    
}

/* Custom file upload style */
.custom-file {
    position: relative;
    display: inline-block;
    width: 100%;
    height: 40px;
    margin-bottom: 0;
}

.custom-file-input {
    position: relative;
    z-index: 2;
    width: 100%;
    height: 40px;
    margin: 0;
    opacity: 0;
}

.custom-file-label {
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    z-index: 1;
    display: block;
    height: calc(2.25rem + 2px);
    padding: 0.375rem 0.75rem;
    line-height: 1.5;
    color: #495057;
    background-color: #fff;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    cursor: pointer;
}

.custom-file-label::after {
    content: "Browse";
}

.custom-file-input:focus ~ .custom-file-label,
.custom-file-input.has-focus ~ .custom-file-label {
    border-color: #80bdff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}
button {
        padding: 10px 20px;
        font-size: 16px;
        border: none;
        background-color: #030d3b;
        color: white;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

    /* Butonun hover durumundaki stili */
    button:hover {
        background-color: #000dff;
    }


</style>
	<div class="main-content">

            
	<header>
		<div class="header-content">
			<label for="menu-toggle">
				<span class="las la-bars"></span>
			</label>
		</div>
	</header>
	
	
	<main class="table">
		
		<div class="page-header">
			<h1>Kayıt Olduğunuz Kurslar</h1>

			<a href="/users/logout" class="btn btn-info btn-lg">
				<span class="glyphicon glyphicon-log-out"></span> Log out
			</a>


		</div>
	</div>

	</div>

    <input type="checkbox" id="menu-toggle">
    <div class="sidebar">
        <div class="side-header">
            <a href="/"><img id="baslik" src="/images/online-academy2.png" width="130px" height="36px"></a>
        </div>
         
        <div class="side-content">
            <div class="profile">
                <div class="profile-img bg-img" style="background-image: url(/images/icon1.jpg)"></div>
                <h4><%= user.name %></h4>
                <small></small>
            </div>

            <div class="side-menu">
                <ul>
                    <li>
                        <a href="/courses/teacher-dashboard" class="active ">
                            <span class="las la-id-card-alt"></span>
                            <small>Ana sayfa</small>
                        </a>
                    </li>
                    <li>
                        <a href="#" >
                            <span class="las la-user-alt"></span>
                            <small> </small>
                        </a>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <span class="las la-envelope"></span>
                            <small></small>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <span class="las la-clipboard-list"></span>
                            <small></small>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <span class="las la-tasks"></span>
                            <small></small>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </div>





    <br>
    <div class="offset-1 col-lg-10 col-md-10 col-sm-10">
        <% if(flashMessages) { %>
            <% if (flashMessages.success) { %>
                <div class="alert alert-success">
                    <%= flashMessages.success %>
                </div>
                <%  } else if (flashMessages.error) {  %>

                    <div class="alert alert-danger">
                        <%= flashMessages.error %>
                    </div>
                    <% }  %>
            <% }  %>
            </div>


    <div id="overviews" class="section wb">
        <div class="container">
            <div class="row"> 

                <!-- Modal Button -->
                <div class="col-lg-12 text-center ">
                    <button class="btn btn-lg btn-warning rounded-0 text-white" href="#"
                        data-toggle="modal" data-target="#addCourse"><span> Yeni Kurs Ekle </span></button>
                </div>


                <div class="col-lg-12 blog-post-single">					
                    <div class="blog-author">
                        <div class="author-bio">
                            <h3 class="author_name"> Course From : <%= user.name %> </h3>
                        </div>
                    </div>
                    
                </div><!-- end col -->
            </div><!-- end row -->





            <div class="row mt-5"> 

                <% for (let i=0; i< courses.length; i++) { %>
                    <div class="col-lg-4 col-md-6 col-12">
                        <div class="course-item mb-5">
                            <div class="image-blog">
                                <img src="<%= courses[i].images %>" alt="" class="img-fluid">
                            </div>
                            <div class="course-br">
                                <div class="course-title">
                                    <h2><a href="/courses/teacher-courses/<%= courses[i].slug %>" title=""> <%= courses[i].name %> </a></h2>
                                </div>
                                <div class="course-desc">
                                    <p> <%= courses[i].description.substring(0,100) +"..." %> </p>
                                    
                                  
                                </div>
                            </div>
                            <div class="course-meta-bot">
                                <a href="/courses/teacher-courses/<%= courses[i].slug %>">
                                <ul>
                                    
                                    <li class="left-li" style="font-size: 20px;"><i class="fa fa-user" aria-hidden="true"></i> <%= courses[i].user.name  %> </li>
                                    <li class="right-li" style="font-size: 20px; color: #eea412;">Kursu incele</li>
                                
                                </ul>
                            </a>
                            </div>
                        </div>
                    </div><!-- end col -->
                    

                
                <!-- UpDate Modal -->
    <div class="modal fade" id="updateCourse<%= courses[i]._id %>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
        <div class="modal-body customer-box">
            <!-- Tab panes -->
            <div class="tab-content">
                <div class="tab-pane active" id="Login">
                    <form method="POST" action="/courses/<%= courses[i].slug %>?_method=PUT" class="form-horizontal" enctype="multipart/form-data">
                        
                        <div class="form-group">
                            <div class="col-sm-12">
                                <input type="text" name="name" value="<%= courses[i].name %>" class="form-control"  placeholder="Course Name">
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-12">
                                <input type="hidden" name="role" class="form-control" value="<%= user.role %>">
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-12">
                                <input type="text" name="description" value="<%= courses[i].description %>" class="form-control"  placeholder="Course Description">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12">
                                <select class="form-control" name="category" >
                                    <% for (let i=0; i< categories.length; i++) { %>
                                    <option value="<%= categories[i]._id %>" >  <%= categories[i].name %> </option>

                                    <% } %>
                                </select>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-sm-10">
                                <button type="submit" class="btn btn-light btn-radius btn-brd grd1">
                                    Submit
                                </button>
                                <button type="submit" class="btn btn-light btn-radius btn-brd grd1"
                                    data-dismiss="modal" aria-hidden="true">
                                    Cancel
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        </div>
        </div>
        </div>


                <% } %>

               
                
            </div><!-- end row -->
            
        </div><!-- end container -->
        
    </div><!-- end section -->


<!-- ADD Modal -->
<div class="modal fade" id="addCourse" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-body customer-box">
                <!-- Tab panes -->
                <div class="tab-content">
                    <div class="tab-pane active" id="Login">
                        <form method="POST" action="/courses" class="form-horizontal" enctype="multipart/form-data">

                            <div class="form-group">
                                <label for="courseName" class="col-sm-3 control-label">Course Name:</label>
                                <div class="col-sm-12">
                                    <input type="text" name="name" class="form-control" id="courseName" placeholder="Enter Course Name">
                                </div>
                            </div>

                            <div class="form-group">
                                <input type="hidden" name="role" class="form-control" value="<%= user.role %>">
                            </div>

                            <div class="form-group">
                                <label for="courseDescription" class="col-sm-3 control-label">Kurs Tanımı:</label>
                                <div class="col-sm-12">
                                    <input type="text" name="description" class="form-control" id="courseDescription" placeholder="Enter Course Description">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="courseImages" class="col-sm-3 control-label">Course Images:</label>
                                <div class="col-sm-12">
                                    <div class="custom-file">
                                        <input type="file" name="images" class="custom-file-input" id="courseImages" multiple>
                                        <label class="custom-file-label" for="courseImages">Choose Images</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="courseVideos" class="col-sm-3 control-label">Course Video:</label>
                                <div class="col-sm-12">
                                    <div class="custom-file">
                                        <input type="file" name="videos" class="custom-file-input" id="courseVideos" multiple>
                                        <label class="custom-file-label" for="courseVideos">Choose Video</label>
                                    </div>
                                </div>
                            </div>
                            

                            <div id="videoTitlesContainer">
                                <!-- Buraya video başlıkları eklenebilir -->
                            </div>
                            <button type="button" onclick="addVideoInput()">Video Başlığı Ekle</button>
                            <div class="form-group">
                                <label for="courseCategory" class="col-sm-3 control-label">Course Category:</label>
                                <div class="col-sm-12">
                                    <select class="form-control" name="category" id="courseCategory">
                                        <% for (let i=0; i< categories.length; i++) { %>
                                        <option value="<%= categories[i]._id %>"><%= categories[i].name %></option>
                                        <% } %>
                                    </select>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-offset-3 col-sm-9">
                                    <button type="submit" class="btn btn-light btn-radius btn-brd grd1">Submit</button>
                                    <button type="submit" class="btn btn-light btn-radius btn-brd grd1" data-dismiss="modal" aria-hidden="true">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<script>


function addVideoInput() {
    const container = document.getElementById('videoTitlesContainer');
    const input = document.createElement('input');
    input.type = 'text';
    input.name = "videoTitles";
    input.className = 'form-control';
    input.placeholder = 'Video Title';
    container.appendChild(input);

    
}


</script>

	<!-- ALL JS FILES -->
    <script src="/js/all.js"></script>
    <!-- ALL PLUGINS -->
    <script src="/js/custom.js"></script>
    